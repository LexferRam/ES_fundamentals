<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>



    <script>

        /*Una promesa en js es como una promesa en vida real la cual puede o no cumplirse*/
        let p = new Promise((resolve, reject) => {
            let a = 1 + 2;

            if (a == 2) {
                resolve('Success')
            } else {
                reject('Failed')
            }
        });
        p.then((message) => {
            console.log('This is in the then ' + message)
        }).catch((message) => {
            console.log('This is in the catch ' + message)
        });

        //las promesas son ideales cuando algo va a tomar mucho tiempo del lado del servidor, tal como una 
        //consulta a la base de datos
        //EJEMPLO2
        const userLeft = false;
        const userWatchingCatMeme = false;

        function watchTutorialPromise() {
            return new Promise((resolve, reject) => {
                if (userLeft) {
                    reject({
                        name: 'User Left',
                        message: ':('
                    })
                } else if (userWatchingCatMeme) {
                    reject({
                        name: 'User watching Cat Meme',
                        message: 'webDev Simpl < Cat'
                    })
                } else {
                    resolve('Thumbs up and subscribe')
                }
            })
        }
        watchTutorialPromise().then((message) => {
            console.log('Success' + message);
        }).catch((error) => {
            console.log(error.name + '' + error.message)
        })


        ///EJEMPLO3 si queremos ejecutar varias promesas en paralelo
        const recordVideoOne = new Promise((resolve, reject) => {
            resolve('Video 1 Recorded')
        });
        const recordVideoTwo = new Promise((resolve, reject) => {
            resolve('Video 2 Recorded')
        });
        const recordVideoThree = new Promise((resolve, reject) => {
            resolve('Video 3 Recorded')
        });

        Promise.all([
            recordVideoOne,
            recordVideoTwo,
            recordVideoThree
        ]).then((messages) => {
            console.log(messages)
        })
        //al igual que 'all' ejecuta todas las promesas en paralelo con la dferencia que 
        //que slo devuelve la 1ra que termine
        Promise.race([
            recordVideoOne,
            recordVideoTwo,
            recordVideoThree
        ]).then((message) => {
            console.log(message)
        })




    </script>
</body>

</html>